{% extends 'base.html' %}
{% block title %}Edit Profile{% endblock %}

{% block content %}
<h2>Edit Profile</h2>

<div class="card p-4" style="max-width:650px;">

  <form method="post" enctype="multipart/form-data">

    <div class="text-center mb-3">
      <img src="{{ user.profile_image and url_for('static', filename='uploads/' ~ user.profile_image) or url_for('static', filename='img/placeholder.jpg') }}"
           class="rounded-circle" width="120" height="120" style="object-fit:cover;">
    </div>

    <div class="mb-3">
      <label class="form-label">Profile Picture</label>
      <input type="file" name="profile_image" class="form-control">
    </div>

    <div class="mb-3">
      <label class="form-label">Full Name</label>
      <input class="form-control" name="full_name" value="{{ user.full_name or '' }}" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Phone</label>
      <input class="form-control" name="phone" value="{{ user.phone or '' }}">
    </div>

     <div class="mb-3">
      <label class="form-label">Email</label>
      <input type="email" class="form-control" name="email" value="{{ user.email or '' }}" required>
    </div>

    <h5>Address</h5>

    <div class="mb-3">
      <label class="form-label">District</label>
      <input class="form-control" name="district" value="{{ user.address_district or '' }}">
    </div>

    <div class="mb-3">
      <label class="form-label">City</label>
      <input class="form-control" name="city" value="{{ user.address_city or '' }}">
    </div>

    <div class="mb-3">
      <label class="form-label">Street Address</label>
      <input class="form-control" name="street" value="{{ user.address_street or '' }}">
    </div>

    <button class="btn btn-success mt-2">Save Changes</button>
    <a href="{{ url_for('profile') }}" class="btn btn-link">Cancel</a>
  </form>

</div>

{% endblock %}
